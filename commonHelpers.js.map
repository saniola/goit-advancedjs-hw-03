{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/main.js"],"sourcesContent":["const API_KEY = 'live_qfpFZuQ1otKVFKxl4WKh5WQKamlGxuK4LMaKO1lHDDzVK00ThJZEjFtnx98ZGrG5';\nconst BASE_URL = 'https://api.thecatapi.com/v1';\n\nexport const fetchBreeds = () => {\n  return fetch(`${BASE_URL}/breeds`, {\n    headers: {\n      'x-api-key': API_KEY\n    }\n  })\n  .then(response => response.json());\n};\n\nexport const fetchCatByBreed = (breedId) => {\n  return fetch(`${BASE_URL}/images/search?breed_ids=${breedId}`, {\n    headers: {\n      'x-api-key': API_KEY\n    }\n  })\n  .then(response => response.json())\n  .then(data => data[0]);\n};\n","import { fetchBreeds, fetchCatByBreed } from './cat-api.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport slimSelect from 'slim-select';\nimport 'slim-select/styles';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const breedSelect = document.querySelector('.select-wrapper');\n  const showBreedSelect = () => breedSelect.classList.remove('hide');\n  const hideBreedSelect = () => breedSelect.classList.add('hide');\n\n  const loader = document.querySelector('.loader-wrapper');\n  const showLoader = () => loader.classList.remove('hide');\n  const hideLoader = () => loader.classList.add('hide');\n\n  const catInfo = document.querySelector('.cat-info');\n  const showCatInfo = () => catInfo.classList.remove('hide');\n  const hideCatInfo = () => catInfo.classList.add('hide');\n\n  const showError = () => iziToast.error({\n    title: 'Error',\n    message: 'An error occurred. Please try again later.',\n    position: 'topRight',\n  });\n\n  const populateBreeds = (breeds) => {\n    const data = breeds.map(breed => ({ text: breed.name, value: breed.id }));\n\n    new slimSelect({\n      select: '#breed-select',\n      placeholder: 'Select a breed',\n      searchPlaceholder: 'Search a breed',\n      data,\n      events: {\n        afterChange: newVal => getCatInfo(newVal[0].value),\n      },\n    });\n\n    showBreedSelect();\n  };\n\n  const getCatInfo = id => {\n    if (id) {\n      hideCatInfo();\n      showLoader();\n      hideBreedSelect();\n      fetchCatByBreed(id)\n        .then(cat => {\n          hideLoader();\n          showBreedSelect();\n          displayCatInfo(cat);\n        })\n        .catch(() => {\n          hideLoader();\n          showError();\n        });\n    }\n  };\n\n  const displayCatInfo = cat => {\n    const breed = cat.breeds[0];\n    catInfo.innerHTML = `\n      <img src=\"${cat.url}\" alt=\"${breed.name}\" />\n      <div class=\"details\">\n        <h2 class=\"title\">${breed.name}</h2>\n        <p class=\"description\">${breed.description}</p>\n        <p><strong>Temperament:</strong> ${breed.temperament}</p>\n      </div>\n    `;\n    showCatInfo();\n  };\n\n  showLoader();\n\n  fetchBreeds()\n    .then(breeds => {\n      populateBreeds(breeds);\n      hideLoader();\n    })\n    .catch(() => {\n      hideLoader();\n      showError();\n    });\n});\n"],"names":["API_KEY","BASE_URL","fetchBreeds","response","fetchCatByBreed","breedId","data","breedSelect","showBreedSelect","hideBreedSelect","loader","showLoader","hideLoader","catInfo","showCatInfo","hideCatInfo","showError","iziToast","populateBreeds","breeds","breed","slimSelect","newVal","getCatInfo","id","cat","displayCatInfo"],"mappings":"6vBAAA,MAAMA,EAAU,wEACVC,EAAW,+BAEJC,EAAc,IAClB,MAAM,GAAGD,CAAQ,UAAW,CACjC,QAAS,CACP,YAAaD,CACd,CACL,CAAG,EACA,KAAKG,GAAYA,EAAS,KAAM,CAAA,EAGtBC,EAAmBC,GACvB,MAAM,GAAGJ,CAAQ,4BAA4BI,CAAO,GAAI,CAC7D,QAAS,CACP,YAAaL,CACd,CACL,CAAG,EACA,KAAKG,GAAYA,EAAS,MAAM,EAChC,KAAKG,GAAQA,EAAK,CAAC,CAAC,ECbvB,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMC,EAAc,SAAS,cAAc,iBAAiB,EACtDC,EAAkB,IAAMD,EAAY,UAAU,OAAO,MAAM,EAC3DE,EAAkB,IAAMF,EAAY,UAAU,IAAI,MAAM,EAExDG,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAa,IAAMD,EAAO,UAAU,OAAO,MAAM,EACjDE,EAAa,IAAMF,EAAO,UAAU,IAAI,MAAM,EAE9CG,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAc,IAAMD,EAAQ,UAAU,OAAO,MAAM,EACnDE,EAAc,IAAMF,EAAQ,UAAU,IAAI,MAAM,EAEhDG,EAAY,IAAMC,EAAS,MAAM,CACrC,MAAO,QACP,QAAS,6CACT,SAAU,UACd,CAAG,EAEKC,EAAkBC,GAAW,CACjC,MAAMb,EAAOa,EAAO,IAAIC,IAAU,CAAE,KAAMA,EAAM,KAAM,MAAOA,EAAM,EAAE,EAAG,EAExE,IAAIC,EAAW,CACb,OAAQ,gBACR,YAAa,iBACb,kBAAmB,iBACnB,KAAAf,EACA,OAAQ,CACN,YAAagB,GAAUC,EAAWD,EAAO,CAAC,EAAE,KAAK,CAClD,CACP,CAAK,EAEDd,GACJ,EAEQe,EAAaC,GAAM,CACnBA,IACFT,IACAJ,IACAF,IACAL,EAAgBoB,CAAE,EACf,KAAKC,GAAO,CACXb,IACAJ,IACAkB,EAAeD,CAAG,CAC5B,CAAS,EACA,MAAM,IAAM,CACXb,IACAI,GACV,CAAS,EAET,EAEQU,EAAiBD,GAAO,CAC5B,MAAML,EAAQK,EAAI,OAAO,CAAC,EAC1BZ,EAAQ,UAAY;AAAA,kBACNY,EAAI,GAAG,UAAUL,EAAM,IAAI;AAAA;AAAA,4BAEjBA,EAAM,IAAI;AAAA,iCACLA,EAAM,WAAW;AAAA,2CACPA,EAAM,WAAW;AAAA;AAAA,MAGxDN,GACJ,EAEEH,IAEAT,EAAa,EACV,KAAKiB,GAAU,CACdD,EAAeC,CAAM,EACrBP,GACN,CAAK,EACA,MAAM,IAAM,CACXA,IACAI,GACN,CAAK,CACL,CAAC"}